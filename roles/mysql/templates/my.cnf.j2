# ======================================================================================================================
[mysql]
prompt                                  = (\\u@\\h:\\p) [\\d]>\\_
skip_auto_rehash

# ======================================================================================================================
[client]
protocol                                = TCP
host                                    = 127.0.0.1
user                                    = root
password                                = root

# ======================================================================================================================
[mysqld_safe]

# ======================================================================================================================
[mysqld]

# -------
# 基本信息
# -------
user                                    = mysql
basedir                                 = {{ install_dir }}
datadir                                 = {{ data_dir }}
tmpdir                                  = /tmp
port                                    = 3306
bind_address                            = 0.0.0.0                                                                       # 多网卡时绑定哪一个网卡

# -------
# 安全相关
# -------

# 是否强制要求使用SSL连接
require_secure_transport                = OFF

# -------
# 日志相关
# -------
log_error                               = error.log
log_timestamps                          = SYSTEM                                                                        # 日志时区不使用UTC，而跟随系统
log_output                              = FILE                                                                          # 通用日志和慢查询日志记录格式 (FILE | TABLE)

general_log                             = OFF                                                                           # 通用日志
general_log_file                        = general.log                                                                   # 通用日志位置

slow_query_log                          = ON                                                                            # 慢查询日志
slow_query_log_file                     = slow.log                                                                      # 慢查询日志位置
long_query_time                         = 2.0                                                                           # 慢查询阈值 (秒)
min_examined_row_limit                  = 100                                                                           # 扫描行数小于此值的SQL不记录到慢查询日志
log_queries_not_using_indexes           = ON                                                                            # 没有使用索引的查询记录到慢查询日志
log_throttle_queries_not_using_indexes  = 10                                                                            # 限制每分钟同样的没有使用索引而被记录到慢查询的日志的条数
log_slow_admin_statements               = ON                                                                            # 管理型语句是否也记录到慢查询日志
log_slow_slave_statements               = OFF                                                                           # 从机的慢查询是否记录

# -------
# 插件相关
# -------

# 加载插件
plugin_load_add                         = validate_password.so

# "validate_password" 插件详细配置
validate_password                       = OFF                                                                           # 实际不启用此插件
validate_password_dictionary_file       = {{ data_dir }}/validate_password.dict
validate_password_policy                = STRONG
validate_password_length                = 8
validate_password_mixed_case_count      = 1
validate_password_number_count          = 1
validate_password_special_char_count    = 1
validate_password_check_user_name       = ON